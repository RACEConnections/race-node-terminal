<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SACIPHUB | R.A.C.E. Terminal v7.4</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@900&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Space Mono', monospace; background-color: #000; color: #4ade80; overflow-x: hidden; }
        .hidden { display: none !important; }
        .terminal-border { border: 1px solid rgba(74, 222, 128, 0.2); }
        .glitch-effect:hover { text-shadow: 2px 0 #ff0000, -2px 0 #00ff00; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="unlock-gate" class="fixed inset-0 z-[2000] bg-black flex items-center justify-center p-6">
        <div class="max-w-md w-full border border-green-500 p-8 bg-black shadow-[0_0_50px_rgba(74,222,128,0.1)]">
            <h2 class="text-green-500 font-black text-xs uppercase tracking-[0.5em] mb-8 text-center">System_Lock_Active</h2>
            <div class="space-y-4">
                <input id="launch-key-input" type="password" placeholder="ENTER_GENESIS_KEY" class="w-full bg-black border border-green-900 p-4 text-green-500 font-mono text-center outline-none focus:border-green-400">
                <button onclick="attemptLaunch()" class="w-full bg-green-900/20 border border-green-500 text-green-500 py-3 font-black text-[10px] hover:bg-green-500 hover:text-black uppercase tracking-widest transition-all">Initiate_Uplink</button>
            </div>
            <p id="unlock-status" class="text-center text-[8px] text-green-900 mt-6 uppercase tracking-widest">Awaiting_Founder_Signal...</p>
        </div>
    </div>

    <div id="terminal-content" class="max-w-4xl mx-auto opacity-0 pointer-events-none transition-opacity duration-1000">
        
        <header class="flex flex-col md:flex-row justify-between items-center mb-12 border-b border-green-900/30 pb-6">
            <div>
                <h1 class="text-6xl font-black text-white italic tracking-tighter glitch-effect" style="font-family: 'Inter', sans-serif;">SACIPHUB</h1>
                <p class="text-[8px] tracking-[0.5em] text-green-800 uppercase">Trading_&_Staking_Terminal // v7.4</p>
            </div>
            <button id="connect-wallet" onclick="connectWallet()" class="mt-4 md:mt-0 border border-green-500 px-6 py-2 text-[10px] font-bold hover:bg-green-500 hover:text-black uppercase">Connect_Wallet</button>
        </header>

        <section class="mb-12 border border-red-900/50 p-6 bg-red-950/5 rounded-lg text-center">
            <h3 class="text-[9px] text-red-500 font-black uppercase tracking-[0.4em] mb-4">Physical_Establishment_Countdown</h3>
            <div id="stability-timer" class="text-4xl md:text-5xl font-black text-white flex justify-center gap-4">
                <div><span id="days">180</span><p class="text-[8px] text-red-900">DAYS</p></div>
                <div class="animate-pulse">:</div>
                <div><span id="hours">00</span><p class="text-[8px] text-red-900">HRS</p></div>
                <div class="animate-pulse">:</div>
                <div><span id="mins">00</span><p class="text-[8px] text-red-900">MINS</p></div>
            </div>
            <p class="text-[7px] text-gray-600 mt-4 uppercase italic">Phase_1: 180 Days of Uninterrupted Online Stability Required.</p>
        </section>

        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <div class="border-2 border-yellow-500/50 p-6 bg-yellow-950/5 rounded-lg">
                <h2 class="text-yellow-500 font-black text-sm mb-6 uppercase">Stake_Assets</h2>
                <div class="space-y-4">
                    <input id="stake-input" type="number" oninput="calculateRewards()" placeholder="Amount $SHUB" class="w-full bg-black border border-yellow-900 p-3 text-yellow-500 font-mono outline-none">
                    <input id="token-price-input" type="number" oninput="calculateRewards()" placeholder="Market Price ($)" value="0.01" class="w-full bg-black border border-yellow-800 p-2 text-yellow-600 text-xs outline-none">
                    <button onclick="stakeTokens()" class="w-full bg-yellow-600 text-black font-black py-3 hover:bg-yellow-400 uppercase text-xs">Execute_Stake</button>
                </div>
            </div>
            
            <div class="border border-green-900/30 p-6 bg-black flex flex-col justify-center">
                <h3 class="text-[8px] text-green-700 uppercase mb-4">Monthly_Yield_Projection</h3>
                <div id="reward-display">
                    <h2 id="reward-tokens" class="text-3xl font-black text-white">0.00 $SHUB</h2>
                    <div id="reward-fiat" class="mt-4 space-y-1">
                        <p class="text-green-500 text-sm font-bold">$0.00 USD</p>
                        <p class="text-white text-sm">₦0.00 NGN</p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="mt-20 border-t border-green-900/30 pt-8 pb-12 text-center">
            <button onclick="toggleTerms()" class="text-[8px] text-gray-500 hover:text-green-500 uppercase tracking-[0.3em]">
                Institutional_Terms_of_Service
            </button>
        </footer>
    </div>

    <div id="terms-modal" class="hidden fixed inset-0 z-[9999] bg-black/95 backdrop-blur-md flex items-center justify-center p-4">
        <div class="max-w-xl w-full border border-green-500 bg-black p-8 relative overflow-y-auto max-h-[80vh]">
            <button onclick="toggleTerms()" class="absolute top-4 right-4 text-green-500 font-bold hover:text-white">CLOSE_X</button>
            <h2 class="text-xl font-black text-white uppercase mb-6 border-b border-green-900 pb-2">Terms_of_Service</h2>
            <div class="space-y-4 text-[10px] text-gray-400 font-mono leading-relaxed">
                <p><span class="text-green-500">SECTION 01:</span> Physical operations commence 180 days after global online establishment reaches uninterrupted stability.</p>
                <p><span class="text-green-500">SECTION 02:</span> Any technical interruption resets the 180-day countdown.</p>
                <p><span class="text-green-500">SECTION 03:</span> $SHUB and $OMNIF are trading digital assets. Yield estimates are not financial guarantees.</p>
            </div>
        </div>
    </div>

    <script>
        // --- ACTIVATED SUPABASE CONFIG ---
        const _supabase = window.supabase.createClient(
            'https://lieuqcbkoltrfqrtryjb.supabase.co', 
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxpZXVxY2Jrb2x0cmZxcnRyeWpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzNjA3ODgsImV4cCI6MjA4NTkzNjc4OH0.zsZLEHQOsQZPxn18lda83F6_8NBsn53ZQ_WC6iR0jfU'
        );

        let REMOTE_GENESIS_KEY = "";
        let currentNgnRate = 1362.00;

        // --- COUNTDOWN LOGIC ---
        const STABILITY_START = new Date("February 7, 2026 00:00:00").getTime();
        const TARGET_DATE = STABILITY_START + (180 * 24 * 60 * 60 * 1000);

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = TARGET_DATE - now;
            if (distance < 0) {
                document.getElementById("stability-timer").innerHTML = "STABILITY_ACHIEVED";
                return;
            }
            document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
            document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
            document.getElementById("mins").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
        }

        // --- UTILITIES ---
        async function fetchLiveRate() {
            try {
                const res = await fetch('https://open.er-api.com/v6/latest/USD');
                const data = await res.json();
                if(data.rates.NGN) currentNgnRate = data.rates.NGN;
            } catch(e) { console.warn("Using fallback rate"); }
        }

        function calculateRewards() {
            const stake = parseFloat(document.getElementById('stake-input').value) || 0;
            const price = parseFloat(document.getElementById('token-price-input').value) || 0;
            const monthlyTokens = stake * 0.10;
            const monthlyUSD = monthlyTokens * price;
            const monthlyNGN = monthlyUSD * currentNgnRate;

            document.getElementById('reward-tokens').innerText = `${monthlyTokens.toFixed(2)} $SHUB`;
            document.getElementById('reward-fiat').innerHTML = `
                <p class="text-green-500 text-sm font-bold">$${monthlyUSD.toFixed(2)} USD</p>
                <p class="text-white text-sm">₦${monthlyNGN.toLocaleString()} NGN</p>
            `;
        }

        async function fetchRemoteConfig() {
            const { data } = await _supabase.from('app_config').select('value').eq('key', 'genesis_key').single();
            if (data) REMOTE_GENESIS_KEY = data.value;
        }

        function attemptLaunch() {
            if (document.getElementById('launch-key-input').value === REMOTE_GENESIS_KEY) {
                document.getElementById('unlock-gate').classList.add('hidden');
                document.getElementById('terminal-content').classList.remove('opacity-0', 'pointer-events-none');
                document.getElementById('terminal-content').classList.add('opacity-100', 'pointer-events-auto');
            } else {
                alert("ACCESS_DENIED: Check Genesis Key");
            }
        }

        async function connectWallet() {
            if (window.ethereum) {
                const acc = await window.ethereum.request({ method: 'eth_requestAccounts' });
                document.getElementById('connect-wallet').innerText = acc[0].substring(0,6) + "...";
                confetti({ particleCount: 150, spread: 70 });
            }
        }

        function toggleTerms() { document.getElementById('terms-modal').classList.toggle('hidden'); }

        window.onload = () => {
            fetchRemoteConfig();
            fetchLiveRate();
            setInterval(updateCountdown, 1000);
        };
    </script>
</body>
                                                   </html>
