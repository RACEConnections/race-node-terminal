
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMNIF BLACK // SOVEREIGN TERMINAL</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>

    <style>
        :root {
            --navy: #020b1c;
            --gold: #D4AF37;
            --green: #00ff00;
            --red: #ff3333;
        }
        
        body, html {
            margin: 0;
            padding: 0;
            background-color: var(--navy);
            color: #fff;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: hidden;
        }

        /* Cinematic Film Grain Overlay */
        .film-grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.04;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/7/76/1k_Dissolve_Noise_Texture.png');
            animation: noise 0.2s infinite alternate;
        }

        @keyframes noise {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-5px, 5px); }
        }

        /* Container & Layout */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header-title {
            text-align: center;
            color: var(--gold);
            letter-spacing: 4px;
            margin-bottom: 50px;
            border-bottom: 1px solid var(--gold);
            padding-bottom: 20px;
        }

        /* Matrix Intake Box */
        .intake-box {
            background: rgba(212, 175, 55, 0.05);
            border: 1px solid var(--gold);
            padding: 30px;
            text-align: center;
            margin-bottom: 40px;
        }

        .btn-primary {
            width: 100%;
            background: #000;
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 15px;
            font-weight: bold;
            letter-spacing: 2px;
            cursor: pointer;
            transition: 0.3s;
            font-family: inherit;
        }

        .btn-primary:hover {
            background: var(--gold);
            color: #000;
        }

        .btn-green {
            border-color: var(--green);
            color: var(--green);
        }

        .btn-green:hover {
            background: var(--green);
            color: #000;
        }

        /* Legal Dossier Modal */
        #legal-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(2, 11, 28, 0.95);
            z-index: 99999;
            justify-content: center;
            align-items: center;
        }

        .dossier-body {
            background: #000;
            border: 1px solid var(--gold);
            width: 90%;
            max-width: 600px;
            height: 80vh;
            overflow-y: auto;
            padding: 30px;
            font-size: 12px;
            line-height: 1.6;
            color: #bbb;
        }

        .dossier-body h3 {
            color: var(--gold);
            margin-top: 30px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 30px;
            color: var(--gold);
            font-size: 24px;
            cursor: pointer;
        }

        .footer-links {
            text-align: center;
            margin-top: 50px;
            font-size: 10px;
            color: #555;
            cursor: pointer;
        }

        .footer-links span:hover {
            color: var(--gold);
        }
        
        /* Telemetry Bar */
        #progress-container {
            display: none;
            width: 100%;
            height: 6px;
            background: #020b1c;
            border: 1px solid #333;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }

        #progress-fill {
            width: 0%;
            height: 100%;
            background: var(--gold);
            transition: width 0.5s ease-in-out, background-color 0.3s ease-in-out;
            box-shadow: 0 0 10px var(--gold);
        }

        #terminal-readout {
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            letter-spacing: 1px;
            color: var(--gold);
            display: none;
            text-transform: uppercase;
        }
    </style>
</head>
<body>

    <div id="lockdown-matrix" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #020b1c; z-index: 999999; flex-direction: column; justify-content: center; align-items: center; font-family: 'Courier New', Courier, monospace; text-align: center; overflow: hidden; background-image: radial-gradient(circle, rgba(212, 175, 55, 0.05) 0%, rgba(2, 11, 28, 1) 70%);">
        <div style="font-size: 22px; letter-spacing: 6px; font-weight: 900; color: #ff3333; margin-bottom: 15px; text-shadow: 0 0 20px rgba(255, 51, 51, 0.5);">
            <span style="animation: blinker 1.5s linear infinite;">[!]</span> PROTOCOL LOCKDOWN
        </div>
        <div style="font-size: 11px; color: #888; max-width: 400px; line-height: 1.6; margin-bottom: 40px; text-transform: uppercase; padding: 0 20px;">
            The OMNIF Sovereign Terminal is currently offline for localized matrix recalibration and cryptographic infrastructure upgrades.
        </div>
        <div style="border: 1px solid #D4AF37; padding: 25px; width: 85%; max-width: 350px; text-align: left; font-size: 11px; color: var(--green); background: rgba(0,0,0,0.8); box-shadow: 0 0 30px rgba(212, 175, 55, 0.05);">
            <div style="color: #D4AF37; margin-bottom: 15px; font-weight: bold; border-bottom: 1px solid #333; padding-bottom: 5px;">/// SYSTEM DIAGNOSTIC</div>
            <span style="display: block; margin-bottom: 8px;">> NETWORK ENTRY: <span style="color: #ff3333;">SUSPENDED</span></span>
            <span style="display: block; margin-bottom: 8px;">> ACTIVE YIELD CYCLES: <span style="color: #D4AF37;">UNINTERRUPTED</span></span>
            <span style="display: block; margin-bottom: 8px;">> ASSET VAULTS: <span style="color: #D4AF37;">100% SECURED</span></span>
            <span style="display: block; margin-bottom: 8px;">> REGIONAL NODE: <span style="color: #aaa;">OSUN-01 // ARC-001</span></span>
            <span style="display: block; margin-top: 15px; color: #555; animation: blinker 2s linear infinite;">> STANDBY FOR LIAISON OVERRIDE...</span>
        </div>
        <style>@keyframes blinker { 50% { opacity: 0; } }</style>
    </div>
    <div class="film-grain"></div>

    <div class="container">
        <h1 class="header-title">OMNIF BLACK // TERMINAL</h1>

        <div class="intake-box" style="border-color: var(--green); background: rgba(0, 255, 0, 0.02);">
            <h3 style="color: var(--green); margin-top: 0; letter-spacing: 3px;">OMNIF PORTAL // EXECUTIVE TIER</h3>
            <p style="font-size: 11px; color: #aaa; margin-bottom: 20px;">Initialize your Tier-1 Matrix Uplink. Secure logistics and yield settlement.</p>
            <a href="https://docs.google.com/forms/your-form-link" target="_blank" style="text-decoration: none;">
                <button class="btn-primary btn-green">PROCEED TO MATRIX UPLINK >></button>
            </a>
        </div>

        <div class="intake-box">
            <h3 style="color: var(--gold); letter-spacing: 2px; margin-top: 0;">LEGACY ASSET UPLINK</h3>
            <p style="font-size: 11px; color: #ccc; margin-bottom: 20px;">Initialize the cryptographic handshake to swap $SHUB / $OMNF for the Tier-1 $RACE utility token.</p>
            
            <button id="btn-migrate" onclick="executeMatrixMigration()" class="btn-primary">
                INITIALIZE 1:1 CONVERSION >>
            </button>
            
            <div id="progress-container">
                <div id="progress-fill"></div>
            </div>

            <div id="terminal-readout">
                /// STANDBY...
            </div>
        </div>

        <div class="footer-links">
            <span onclick="openLegal()">[ VIEW OPERATIONAL MANDATE & LEGAL VAULT ]</span>
        </div>
    </div>

    <div id="legal-modal">
        <span class="close-btn" onclick="closeLegal()">[X]</span>
        <div class="dossier-body">
            <h2 style="color: var(--gold); text-align: center; border-bottom: 1px solid #333; padding-bottom: 10px;">OPERATIONAL MANDATE & LEGAL DOSSIER</h2>
            
            <h3>1. JURISDICTION</h3>
            <p>This protocol operates under the physical jurisdiction of Osun State, Nigeria, and adheres to digital sovereign architecture...</p>
            
            <h3>2. RISK DISCLOSURE & MARKET DYNAMICS</h3>
            <p>
                <strong>(a) Systemic Volatility:</strong> While the $RACE Algorithm executes strictly risk-averse arbitrage routing, the underlying digital asset ecosystems are inherently volatile. The Provider does not control blockchain network congestion, global liquidity disruptions, or third-party exchange insolvency. 
                <br><br>
                <strong>(b) Execution Latency:</strong> Matrix yield targets (12.5% - 18.0%) are statistical projections based on active market inefficiencies, not guaranteed promissory notes. Micro-latency in cross-chain settlement may incrementally affect precise yield outcomes.
                <br><br>
                <strong>(c) Sovereign Acknowledgment:</strong> By authorizing a matrix uplink, the User accepts that digital logistics carry baseline infrastructural risks. The Provider's liability is strictly limited to the operational uptime of the OMNIF Terminal.
            </p>

            <h3>3. PRIVACY POLICY & DATA JURISDICTION</h3>
            <p>
                <strong>(a) Zero-Knowledge Architecture:</strong> R.A.C.E. LLC operates on a principle of cryptographic minimalism. We collect only the exact data vectors required for functional settlement and Tier-1 verification (e.g., Settlement Coordinates and Stakeholder Designations).
                <br><br>
                <strong>(b) Sovereign Storage:</strong> All operational data is encrypted via 256-bit SSL and isolated on secured nodes. We do not sell, syndicate, or expose Stakeholder telemetry to third-party marketing entities or unauthorized public registries.
                <br><br>
                <strong>(c) Jurisdiction of Records:</strong> Data protocol is maintained under the private operational mandates of our localized physical jurisdiction (Osun State, Nigeria). Compliance with external international tax or regulatory reporting remains the sole responsibility of the Stakeholder.
            </p>
        </div>
    </div>

    <script>
        // --- 1. CROSS-DOMAIN AUTO-TRIGGER PROTOCOL --- //
        window.onload = function() {
            if (window.location.hash === '#legal') {
                openLegal();
            }
        };

        // --- 2. MODAL FUNCTIONS --- //
        function openLegal() { document.getElementById('legal-modal').style.display = 'flex'; }
        function closeLegal() { document.getElementById('legal-modal').style.display = 'none'; }

        // --- 3. OMNIF COMMAND MATRIX: MIGRATION PIPELINE V2 --- //
        const MIGRATION_CONTRACT_ADDRESS = "0xYOUR_MIGRATION_CONTRACT_ADDRESS";
        const LEGACY_TOKEN_ADDRESS = "0x5C91C8068593F0271D8579471f54452f6B659083"; // $SHUB
        
        const ERC20_ABI = [
            "function approve(address spender, uint256 amount) external returns (bool)",
            "function balanceOf(address account) external view returns (uint256)"
        ];
        
        const MIGRATION_ABI = [
            "function migrate(address tokenAddress, uint256 amount) external"
        ];

        // THE TELEMETRY CONTROLLER
        function updateTelemetry(percent, color, message) {
            const readout = document.getElementById("terminal-readout");
            const progressContainer = document.getElementById("progress-container");
            const progressFill = document.getElementById("progress-fill");

            progressContainer.style.display = "block";
            readout.style.display = "block";

            progressFill.style.width = percent + "%";
            progressFill.style.backgroundColor = color;
            progressFill.style.boxShadow = `0 0 10px ${color}`;
            
            readout.style.color = color;
            readout.innerHTML = message;
        }

        // THE EXECUTION ENGINE
        async function executeMatrixMigration() {
            const btn = document.getElementById("btn-migrate");
            const colorGold = "#D4AF37";
            const colorGreen = "#00ff00";
            const colorRed = "#ff3333";
            
            try {
                if (typeof window.ethereum === 'undefined') {
                    throw new Error("SECURE WALLET NOT DETECTED. INSTALL METAMASK.");
                }

                btn.disabled = true;
                updateTelemetry(10, colorGold, "/// ESTABLISHING SECURE UPLINK...");

                const provider = new ethers.BrowserProvider(window.ethereum);
                const signer = await provider.getSigner();
                const userAddress = await signer.getAddress();

                const legacyToken = new ethers.Contract(LEGACY_TOKEN_ADDRESS, ERC20_ABI, signer);
                const migrationBridge = new ethers.Contract(MIGRATION_CONTRACT_ADDRESS, MIGRATION_ABI, signer);

                // Phase 1: Scanning
                updateTelemetry(25, colorGold, "/// SCANNING LEGACY ASSETS...");
                const balance = await legacyToken.balanceOf(userAddress);
                if (balance === 0n) throw new Error("ZERO BALANCE DETECTED. OPERATION ABORTED.");

                // Phase 2: Authorization
                updateTelemetry(40, colorGold, "/// AWAITING STAKEHOLDER AUTHORIZATION (SIGNATURE 1/2)...");
                const txApprove = await legacyToken.approve(MIGRATION_CONTRACT_ADDRESS, balance);
                
                // Phase 3: Processing Authorization
                updateTelemetry(60, colorGold, "/// PROCESSING CRYPTOGRAPHIC HANDSHAKE. DO NOT CLOSE TERMINAL...");
                await txApprove.wait(); 

                // Phase 4: Execution
                updateTelemetry(75, colorGold, "/// AUTHORIZATION CONFIRMED. AWAITING BURN EXECUTION (SIGNATURE 2/2)...");
                const txMigrate = await migrationBridge.migrate(LEGACY_TOKEN_ADDRESS, balance);
                
                // Phase 5: Incineration & Routing
                updateTelemetry(90, colorGold, "/// INCINERATING LEGACY ASSETS & DISPATCHING $RACE...");
                await txMigrate.wait(); 

                // Phase 6: Final Settlement
                updateTelemetry(100, colorGreen, "/// SUCCESS. $RACE ASSETS SECURED IN LOCAL VAULT.");
                btn.innerHTML = "MIGRATION COMPLETE";
                btn.style.borderColor = colorGreen;
                btn.style.color = colorGreen;

            } catch (error) {
                console.error(error);
                const currentWidth = document.getElementById("progress-fill").style.width || "100%";
                updateTelemetry(parseInt(currentWidth), colorRed, `/// ERROR: ${error.reason || error.message || "NETWORK REJECTED."}`);
                btn.disabled = false;
                btn.innerHTML = "REBOOT & RETRY >>";
                btn.style.borderColor = colorRed;
                btn.style.color = colorRed;
            }
        }
    </script>
</body>
</html>
